$(window).on("load",function(){$(document).ajaxStart(function(){$("#results").append("<h2 class='text-center' id='loading'><div class='spinner-border' role='status'><span class='sr-only'>Loading...</span></div> Loading...</h2>")}).ajaxStop(function(){$("#loading").remove()});console.log("faculty profile javascript loaded"),$(function(){function h(t){return"<div class='container pb-4'><div class='accordion' id='accordion-"+t+"'><div class='accordion-item'><p class='accordion-header' id='heading-"+t+"'><button type='button' class='accordion-button collapsed' data-bs-toggle='collapse' data-bs-target='#collapse-"+t+"'>"}function N(t){return"</button></p><div id='collapse-"+t+"' class='accordion-collapse collapse'><div class='card-body'><div class='accordion-body-content'>"}function A(t,n){return t<n?t:n}function C(t,a){t.sort(function(t,n){if(null!==t[a]&&null!==n[a])return parseFloat(T(n[a].toString()))-parseFloat(T(t[a].toString()))})}var w="</div></div></div></div></div></div>";function T(t){return(t=new Date(t)).getFullYear()}function y(){console.log("Invalid UUID!")}""!==$("#uuid").val()?$.ajax({type:"GET",url:"https://asc-fiapi-profile-proxy.azurewebsites.net/api/activity/faculty/"+$("#uuid").val()}).done(function(r){if(r===$("#uuid").val()+" not found")return y(),!1;r=JSON.parse(r);var t="Publications",n=h(t)+t+N(t),a=A(r.Articles.length,$("#publicationsCount").val());let i="";if(0<a){C(r.Articles,publishName="PublishDate");for(let o=0;o<a;o++){var e=r.Articles[o];i+="<ul><li><strong>"+e.ArticleTitle.toString()+"</strong></li>";let t="",n=(t=e.JournalName?"<li><strong>Journal:</strong> "+e.JournalName.toString()+"</li>":"","");n=e.PublishDate?"<li><strong>Publish Date:</strong> "+T(e.PublishDate.toString())+"</li>":"";var s=e.DOI;let a,l=(a=s?"<li><strong>DOI:</strong> <a href='"+(s="https://doi.org/"+s.toString())+"' blank='_blank'>"+s+"</a></li>":"","");l=e.Abstract?"<li><strong>Abstract:</strong> "+e.Abstract.toString()+"</li>":"",i+="<ul>"+t+n+a+l+"</ul></ul>"}i=n+i,i+=w,$("#publications").removeClass("d-none"),$("#publications").append(i)}else console.log("No data returned for publications!");var n=h(t="Awards")+"Awards"+N(t),l=A(r.Awards.length,$("#awardsCount").val());let o="";if(0<l){C(r.Awards,publishName="ReceivedDate");for(let a=0;a<l;a++){var g=r.Awards[a],u=(o+="<ul><li><strong>"+g.AwardName.toString()+"</strong></li>","<li><strong>Year Awarded:</strong> "+T(g.ReceivedDate.toString())+"</li>");let t=g.URL,n=(t=t?"<li><strong>URL:</strong> <a href='"+t+"' blank='_blank'>"+t+"</a></li>":"","");n=g.GoverningSocietyName?"<li><strong>Governing Organization:</strong> "+g.GoverningSocietyName.toString()+"</li>":"",o+="<ul>"+u+t+n+"</ul></ul>"}o=n+o,o+=w,$("#awards").removeClass("d-none"),$("#awards").append(o)}else console.log("No data returned for awards!");if(i,0<r.Grants.length||0<r.Patents.length||0<r.ClinicalTrials){grantsTitle=h(t="Grants")+"Grant, Patents, and Clinical Trials"+N(t);let o="";var c=A(r.Grants.length,$("#grantsCount").val());if(0<c){C(r.Grants,publishName="StartDate");for(let n=0;n<c;n++){var d=r.Grants[n],p=(o+="<ul><li><strong>Grant: "+d.GrantName.toString()+"</strong></li>","<li><strong>Duration:</strong> "+T(d.StartDate)+" - "+T(d.EndDate)+"</li>");let t=d.TotalDollars;t=t?"<li><strong>Total Dollars:</strong> $"+t.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:0}):"",o+="<ul>"+p+t+"</ul></ul>"}}var v=A(r.Patents.length,$("#patentsCount").val());if(0<v){C(r.Patents,publishName="PatentDate");for(let l=0;l<v;l++){var f=r.Patents[l];o+="<ul><li><strong>Patent: "+f.PatentName.toString()+"</strong></li>";let t=f.PatentDate,n=(t=t?"<li><strong>Patent Approved:</strong> "+T(t):"",f.PatentNumber),a=(n=n?"<li><strong>Patent No:</strong> "+n.toString()+"</li>":"",f.PatentAbstract);a=a?"<li><strong>Patent Abstract:</strong> "+a.toString()+"</li>":"",o+="<ul>"+t+n+a+"</ul></ul>"}}var S=A(r.ClinicalTrials.length,$("#clinicalTrialsCount").val());if(0<S){C(r.ClinicalTrials,publishName="StartDate");for(let l=0;l<S;l++){var b=r.ClinicalTrials[l];o+="<ul><li><strong>Clinical Trial: "+b.ClinicalTrialTitle.toString()+"</strong></li>";let t=b.StartDate,n=(t=t?"<li><strong>Duration:</strong> "+T(t)+" - "+T(b.EndDate):"",b.Source),a=(n=n?"<li><strong>Source:</strong> "+n.toString()+"</li>":"",b.Summary);a=a?"<li><strong>Summary:</strong> "+a.toString()+"</li>":"",o+="<ul>"+t+n+a+"</ul></ul>"}}o=grantsTitle+o,o+=w,$("#grants").removeClass("d-none"),$("#grants").append(o)}else console.log("No data returned for grants, patents, and/or clinical trials!");n=h(t="Presentations")+t+N(t);let m="";var P=A(r.Presentations.length,$("#presentationsCount").val());if(0<P){C(r.Presentations,publishName="PresentationDate");for(let o=0;o<P;o++){var D=r.Presentations[o];m+="<ul><li><strong>"+D.PresentationName.toString()+"</strong></li>";let t="",n=(t=D.Venue?"<li><strong>Venue:</strong> "+D.Venue.toString()+"</li>":"",""),a=(n=D.Sponsor?"<li><strong>Sponsor:</strong> "+D.Sponsor.toString()+"</li>":"",""),l=(a=D.Location?"<li><strong>Location:</strong> "+D.Location.toString()+"</li>":"","");l=D.PresentationDate?"<li><strong>Presentation Date:</strong> "+T(D.PresentationDate)+"</li>":"",m+="<ul>"+t+n+a+l+"</ul></ul>"}m=n+m,m+=w,$("#presentations").removeClass("d-none"),$("#presentations").append(m)}else console.log("No data returned for presentations!")}).fail(function(t){y()}):y()})});