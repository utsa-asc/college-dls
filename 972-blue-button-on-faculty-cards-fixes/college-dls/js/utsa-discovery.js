$(window).on("load",function(){$(document).ajaxStart(function(){$("#results").append("<h2 class='text-center' id='loading'><div class='spinner-border' role='status'><span class='sr-only'>Loading...</span></div> Loading...</h2>")}).ajaxStop(function(){$("#loading").remove()});console.log("faculty profile javascript loaded"),$(function(){function D(t){return"<div class='container pb-4'><div class='accordion' id='accordion-"+t+"'><div class='accordion-item'><p class='accordion-header' id='heading-"+t+"'><button type='button' class='accordion-button collapsed' data-bs-toggle='collapse' data-bs-target='#collapse-"+t+"'>"}function h(t){return"</button></p><div id='collapse-"+t+"' class='accordion-collapse collapse'><div class='card-body'><div class='accordion-body-content'>"}function N(t,n){return t<n?t:n}function A(t,a){t.sort(function(t,n){if(null!==t[a]&&null!==n[a])return parseFloat(w(n[a].toString()))-parseFloat(w(t[a].toString()))})}var C="</div></div></div></div></div></div>";function w(t){return(t=new Date(t)).getFullYear()}function T(){console.log("Data for UUID not found!")}""!==$("#uuid").val()?$.ajax({type:"GET",url:"https://asc-fiapi-profile-proxy.azurewebsites.net/api/activity/faculty/"+$("#uuid").val()}).done(function(l){if(l===$("#uuid").val()+" not found")return T(),!1;l=JSON.parse(l);var n="Publications",t=D(n)+n+h(n),a=N(l.Articles.length,$("#publicationsCount").val());let e="";if(0<a){A(l.Articles,publishName="PublishDate");for(let r=0;r<a;r++){var i=l.Articles[r];e+="<ul><li><strong>"+i.ArticleTitle.toString()+"</strong></li>";let t="",n=(t=i.JournalName?"<li><strong>Journal:</strong> "+i.JournalName.toString()+"</li>":"","");n=i.PublishDate?"<li><strong>Publish Date:</strong> "+w(i.PublishDate.toString())+"</li>":"";var s=i.DOI;let a,o=(a=s?"<li><strong>DOI:</strong> <a href='"+(s="https://doi.org/"+s.toString())+"' blank='_blank'>"+s+"</a></li>":"","");o=i.Abstract?"<li><strong>Abstract:</strong> "+i.Abstract.toString()+"</li>":"",e+="<ul>"+t+n+a+o+"</ul></ul>"}e=t+e,e+=C,$("#publications").removeClass("d-none"),$("#publications").append(e)}else console.log("No data returned for publications!");var t=D(n="Awards")+"Awards"+h(n),o=N(l.Awards.length,$("#awardsCount").val());let r="";if(0<o){A(l.Awards,publishName="ReceivedDate");for(let a=0;a<o;a++){var g=l.Awards[a],u=(r+="<ul><li><strong>"+g.AwardName.toString()+"</strong></li>","<li><strong>Year Awarded:</strong> "+w(g.ReceivedDate.toString())+"</li>");let t=g.URL,n=(t=t?"<li><strong>URL:</strong> <a href='"+t+"' blank='_blank'>"+t+"</a></li>":"","");n=g.GoverningSocietyName?"<li><strong>Governing Organization:</strong> "+g.GoverningSocietyName.toString()+"</li>":"",r+="<ul>"+u+t+n+"</ul></ul>"}r=t+r,r+=C,$("#awards").removeClass("d-none"),$("#awards").append(r)}else console.log("No data returned for awards!");if(e,0<l.Grants.length||0<l.Patents.length||0<l.ClinicalTrials){grantsTitle=D(n="Grants")+"Grant, Patents, and Clinical Trials"+h(n);let r="",t=N(l.Grants.length,$("#grantsCount").val());if(0<t){A(l.Grants,publishName="StartDate");for(let n=0;n<t;n++){var c=l.Grants[n],d=(r+="<ul><li><strong>Grant: "+c.GrantName.toString()+"</strong></li>","<li><strong>Duration:</strong> "+w(c.StartDate)+" - "+w(c.EndDate)+"</li>");let t=c.TotalDollars;t=t?"<li><strong>Total Dollars:</strong> $"+t.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:0}):"",r+="<ul>"+d+t+"</ul></ul>"}}var p=N(l.Patents.length,$("#patentsCount").val());if(0<p){A(l.Patents,publishName="PatentDate");for(let o=0;o<p;o++){var v=l.Patents[o];r+="<ul><li><strong>Patent: "+v.PatentName.toString()+"</strong></li>";let t=v.PatentDate,n=(t=t?"<li><strong>Patent Approved:</strong> "+w(t):"",v.PatentNumber),a=(n=n?"<li><strong>Patent No:</strong> "+n.toString()+"</li>":"",v.PatentAbstract);a=a?"<li><strong>Patent Abstract:</strong> "+a.toString()+"</li>":"",r+="<ul>"+t+n+a+"</ul></ul>"}}var f=N(l.ClinicalTrials.length,$("#clinicalTrialsCount").val());if(0<f){A(l.ClinicalTrials,publishName="StartDate");for(let o=0;o<f;o++){var S=l.ClinicalTrials[o];r+="<ul><li><strong>Clinical Trial: "+S.ClinicalTrialTitle.toString()+"</strong></li>";let t=S.StartDate,n=(t=t?"<li><strong>Duration:</strong> "+w(t)+" - "+w(S.EndDate):"",S.Source),a=(n=n?"<li><strong>Source:</strong> "+n.toString()+"</li>":"",S.Summary);a=a?"<li><strong>Summary:</strong> "+a.toString()+"</li>":"",r+="<ul>"+t+n+a+"</ul></ul>"}}r=grantsTitle+r,r+=C,$("#grants").removeClass("d-none"),$("#grants").append(r)}else console.log("No data returned for grants, patents, and/or clinical trials!");t=D(n="Presentations")+n+h(n);let b="",m=N(l.Presentations.length,$("#presentationsCount").val());if(0<m){A(l.Presentations,publishName="PresentationDate");for(let t=0;t<m;t++){var P=l.Presentations[t];if(null===P.PresentationName||""===P.PresentationName)console.log("No data returned for presentations!");else{b+="<ul><li><strong>"+P.PresentationName.toString()+"</strong></li>";let t="",n=(t=P.Venue?"<li><strong>Venue:</strong> "+P.Venue.toString()+"</li>":"",""),a=(n=P.Sponsor?"<li><strong>Sponsor:</strong> "+P.Sponsor.toString()+"</li>":"",""),o=(a=P.Location?"<li><strong>Location:</strong> "+P.Location.toString()+"</li>":"","");o=P.PresentationDate?"<li><strong>Presentation Date:</strong> "+w(P.PresentationDate)+"</li>":"",b+="<ul>"+t+n+a+o+"</ul></ul>"}}b=t+b,b+=C,$("#presentations").removeClass("d-none"),$("#presentations").append(b)}else console.log("No data returned for presentations!")}).fail(function(t){T()}):T()})});